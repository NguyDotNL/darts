{
  "rules": {
    ".read": true,
    ".write": true,
    "matches": {
      "$matchId": {
        ".validate": "!data.parent().child($matchId).exists() && $matchId.length === 36 && newData.hasChildren(['bestOfLegs','bestOfSets','date','matchId','matchName','players','startPoints','winner','winnerName'])",
        "players": {
          "$player": {
            ".validate": "newData.hasChildren(['playerName','statistics'])",
            "statistics": {
              ".validate": "newData.hasChildren(['180','9Dart','legsWon','setsWon'])"
            }
          }
        }
      }
    },
    "matchDetails": {
      "$matchId": {
        ".validate": "!data.parent().child($matchId).exists() && $matchId.length === 36 && newData.hasChildren(['sets'])",
        "sets": {
          "$set": {
            ".validate": "newData.hasChildren(['legs','players','winner'])",
            "legs": {
              "$leg": {
                ".validate": "newData.hasChildren(['players','winner'])",
                "players": {
                  "$player": {
                    "$turn": {
                      ".validate": "newData.hasChildren(['throws','total'])",
                      "throws": {
                        "$throw": {
                          ".validate": "newData.hasChildren(['multiplier','points'])"
                        }
                      }
                    }
                  }
                }
              }
            },
            "players": {
              "$player": {
                ".validate": "newData.hasChildren(['180','9Dart','legsWon'])"
              }
            }
          }
        }
      }
    }
  }
}